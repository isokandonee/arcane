CREATE DATABASE users;
USE users;
-- Create the tables and add the data
CREATE TABLE account_types (
  id INT(20) NOT NULL PRIMARY KEY,
  account_type VARCHAR(20) NOT NULL
);

INSERT INTO account_types (id, account_type) VALUES
(1, 'current'),
(2, 'savings'),
(3, 'domiciliary');

CREATE TABLE statuses (
  id INT(20) NOT NULL PRIMARY KEY,
  status VARCHAR(20) NOT NULL
);

INSERT INTO statuses (id, status) VALUES
(1, 'active'),
(2, 'blocked'),
(3, 'pending'),
(4, 'frozen'),
(5, 'efcc list');

CREATE TABLE transaction_types (
  id INT(20) NOT NULL PRIMARY KEY,
  transaction_type VARCHAR(20) NOT NULL
);

INSERT INTO transaction_types (id, transaction_type) VALUES
(1, 'debit'),
(2, 'credit');

CREATE TABLE transactions (
  id INT(20) NOT NULL,
  transaction_type_id INT(20) NOT NULL,
  source_id INT(20) NOT NULL,
  destination_id INT(20) NOT NULL,
  amount INT(20) NOT NULL,
  created_at VARCHAR(50) NOT NULL,
  FOREIGN KEY (transaction_type_id) REFERENCES transaction_types(id)
);

CREATE TABLE user_accounts (
  id INT(20) NOT NULL,
  user_id INT(20) NOT NULL,
  account_type_id INT(20) NOT NULL,
  account_number INT(20) NOT NULL,
  balance INT(20) NOT NULL,
  status_id INT(20) NOT NULL,
  created_at VARCHAR(50) NOT NULL,
  updated_at VARCHAR(50) NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (account_type_id) REFERENCES account_types(id),
  FOREIGN KEY (status_id) REFERENCES statuses(id)
);

CREATE TABLE users (
  id INT(11) NOT NULL,
  first_name VARCHAR(20) NOT NULL,
  last_name VARCHAR(20) NOT NULL,
  email VARCHAR(50) NOT NULL,
  password VARCHAR(255) NOT NULL,
  address VARCHAR(50) NOT NULL,
  phone VARCHAR(20) NOT NULL,
  created_at VARCHAR(50) NOT NULL,
  updated_at VARCHAR(50) NOT NULL
);